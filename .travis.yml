before_install:
  - wget http://algec.iut-blagnac.fr/~jmi/MPA/src/junit.jar
  - "sudo apt-get install graphviz 2>&1 | tail -n 2"
  - wget http://algec.iut-blagnac.fr/~jmi/MPA/src/plantuml.jar
  - hg clone -r 8.6.7 https://asciidoc.googlecode.com/hg/ asciidoc-8.6.7
language: java
script:
  - java -version
  - javac -version
  - python -V
  - phantomjs -v
  - python asciidoc-8.6.7/asciidoc.py --version
  - dot -V
  - echo Hello from DUT INFO Blagnac
  - ls -alF
  - cd sprint_5
  - cd OPTIweb
  - echo ///////////////////////////////////////////////////////
  - echo // COMPILATION des executables
  - echo ///////////////////////////////////////////////////////
  - javac -cp .:./bin/ -d ./bin/ ./src/*.java
  - cp data bin/data
  - echo
  - echo ///////////////////////////////////////////////////////
  - echo // LANCEMENT de l\'application
  - echo ///////////////////////////////////////////////////////
  - cd ./bin/
  - java -cp . MakeOPTIweb
  - cp OPTIweb.html ../
  - cp OPTIweb.html /tmp/OPTIweb
  - echo
  - echo ///////////////////////////////////////////////////////
  - echo // EXECUTION des tests
  - echo ///////////////////////////////////////////////////////
  - cd ./test/
  - casperjs.bat test casperAccueil.js
  - casperjs.bat test casperCredits.js
  - casperjs.bat test casperEtudiants.js
  - casperjs.bat test casperIntervenants.js
  - casperjs.bat test casperProjets.js
  - casperjs.bat test casperSujets.js
  - cd ../
